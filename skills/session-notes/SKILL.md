---
name: session-notes
description: 總結當前對話的重點並持續更新到專案指定的 md 檔案，作為專案工作日誌。
---

# Session Notes - 對話總結工具

將 Claude Code 對話的重點、決策和進度自動總結並追加到專案的筆記檔案中。

## 何時使用此技能

- 對話告一段落，想記錄今天的工作重點
- 做了重要決策，想留下紀錄
- 專案進度更新，需要追蹤
- 說「記一下」、「更新筆記」、「總結一下」

## 流程

### 階段 1：確認筆記檔案位置

1. 檢查專案根目錄是否有 `SESSION-NOTES.md`
2. 如果已存在，直接使用該檔案
3. 如果不存在，**直接建立在專案根目錄** `./SESSION-NOTES.md`（不詢問）
4. 只有使用者明確指定路徑時才用其他位置

### 階段 2：分析對話內容

回顧當前對話，提取以下內容：

#### 必要項目
- **重點決策**：做了什麼決定、選擇了什麼方案
- **待辦事項**：尚未完成的任務、後續工作

#### 選用項目（根據對話內容判斷是否包含）
- **程式碼變更**：修改了哪些檔案、新增了什麼功能
- **問題解答**：回答了什麼技術問題
- **Bug 修復**：修了什麼問題、如何解決
- **學習筆記**：新學到的概念或技巧
- **討論摘要**：重要的討論內容和結論

### 階段 3：格式化並追加

使用以下格式追加到筆記檔案：

```markdown
---

## YYYY-MM-DD HH:mm - [簡短標題]

### 重點決策
- 決策 1：說明
- 決策 2：說明

### 程式碼變更
- `path/to/file.ts`：變更說明
- `path/to/another.ts`：變更說明

### 問題解答
- **Q**：問題內容
- **A**：簡短回答

### Bug 修復
- 問題：描述
- 解決：方法

### 學習筆記
- 筆記 1
- 筆記 2

### 待辦事項
- [ ] 待辦 1
- [ ] 待辦 2

### 討論摘要
簡述重要討論內容...
```

### 階段 4：取得時間並寫入

1. **先執行 Bash 取得當前時間**：
   ```bash
   powershell -Command "Get-Date -Format 'yyyy-MM-dd HH:mm'"
   ```
2. 將時間套用到標題格式：`## 2026-01-13 15:30 - [簡短標題]`
3. **不需確認，直接寫入**
4. 使用 Write 或 Edit 工具追加到檔案末尾
5. 回報完成：「已更新 `[檔案路徑]`」並顯示本次新增的內容摘要

## 筆記檔案初始化範本

如果是新建檔案，使用此範本：

```markdown
# Session Notes

此檔案記錄 Claude Code 對話的工作重點和決策。

---

## YYYY-MM-DD HH:mm - 初始化

### 重點決策
- 建立 Session Notes 檔案追蹤專案進度
```

## 使用範例

**使用者**：「記一下今天的工作」

**Claude**：
（直接寫入後回報）

「已更新 `SESSION-NOTES.md`

**本次新增：**
- 標題：建立對話總結技能
- 決策：選擇自訂技能、採用完整版格式
- 變更：新建 session-notes 技能檔案
- 待辦：測試技能、更新索引」

## 進階用法

### 指定檔案
```
記一下，存到 docs/DEVLOG.md
```

### 只記錄特定類型
```
只記錄今天的程式碼變更
```

### 查看歷史
```
顯示 SESSION-NOTES.md 的最近 5 筆記錄
```

## 注意事項

- 總結內容應精簡扼要，避免冗長
- 程式碼變更只記錄檔案路徑和變更摘要，不貼完整程式碼
- 待辦事項使用 `- [ ]` 格式以便追蹤
- 每次追加用 `---` 分隔，方便閱讀
